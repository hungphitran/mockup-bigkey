<!-- Unified Management Header Template -->
<header class="management-header">
    <div class="management-header-content">
        <!-- Logo Section -->
        <div class="management-logo">
            <i class="fas fa-key"></i>
            <span>BigKey Tour</span>
            <span class="management-badge" id="role-badge">ADMIN</span>
        </div>
        
        <!-- Navigation Menu -->
        <nav class="management-nav-menu">
            <a href="13-admin-dashboard.html" id="nav-dashboard">
                <i class="fas fa-tachometer-alt"></i>
                Dashboard
            </a>
            <a href="11-partner-management.html" id="nav-partners">
                <i class="fas fa-handshake"></i>
                Đối tác
            </a>
            <a href="20-admin-tour-approval.html" id="nav-approval">
                <i class="fas fa-check-circle"></i>
                Duyệt tour
            </a>
            <a href="21-admin-flash-sale.html" id="nav-flashsale">
                <i class="fas fa-bolt"></i>
                Flash Sale
            </a>
            <a href="23-tour-management.html" id="nav-admin-tours">
                <i class="fas fa-map-marked-alt"></i>
                Quản lý tour
            </a>
            <a href="partner-orders.html" id="nav-orders">
                <i class="fas fa-shopping-cart"></i>
                Đơn hàng
            </a>
            <a href="12-partner-analytics.html" id="nav-analytics">
                <i class="fas fa-chart-bar"></i>
                Thống kê
            </a>
            <a href="partner-settings.html" id="nav-settings">
                <i class="fas fa-cog"></i>
                Cài đặt
            </a>
        </nav>
        
        <!-- Auth Section -->
        <div class="management-auth-section">
            <!-- Language Selector -->
            <select id="language-selector">
                <option value="vi">Tiếng Việt</option>
                <option value="en">English</option>
                <option value="zh">中文</option>
            </select>
            
            <!-- User Info -->
            <div class="management-user-info">
                <div class="management-user-avatar" id="user-avatar">
                    A
                </div>
                <div class="management-user-details">
                    <div class="management-user-name" id="user-name">Admin User</div>
                    <div class="management-user-role" id="user-role">Administrator</div>
                </div>
            </div>
            
            <!-- Logout Button -->
            <button class="management-logout-btn" onclick="logout()">
                <i class="fas fa-sign-out-alt"></i>
                Đăng xuất
            </button>
        </div>
    </div>
</header>

<script>
// Function to set active navigation based on current page
function setActiveNavigation() {
    const currentPage = window.location.pathname.split('/').pop();
    const navLinks = document.querySelectorAll('.management-nav-menu a');
    
    navLinks.forEach(link => {
        link.classList.remove('active');
        if (link.getAttribute('href') === currentPage) {
            link.classList.add('active');
        }
    });
}

// Function to set user role and update badge
function setUserRole(role, userName) {
    const roleBadge = document.getElementById('role-badge');
    const userRole = document.getElementById('user-role');
    const userNameElement = document.getElementById('user-name');
    const userAvatar = document.getElementById('user-avatar');
    
    // Set role badge
    roleBadge.textContent = role.toUpperCase();
    
    // Set user role text
    const roleTexts = {
        'admin': 'Administrator',
        'partner': 'Đối tác',
        'manager': 'Quản lý'
    };
    userRole.textContent = roleTexts[role] || role;
    
    // Set user name
    if (userName) {
        userNameElement.textContent = userName;
        userAvatar.textContent = userName.charAt(0).toUpperCase();
    }
}

// Function to handle logout
function logout() {
    if (confirm('Bạn có chắc chắn muốn đăng xuất?')) {
        // Add logout logic here
        window.location.href = '01-search-integrated.html';
    }
}

// Initialize header when page loads
document.addEventListener('DOMContentLoaded', function() {
    setActiveNavigation();
    
    // Set default user role (can be overridden by individual pages)
    setUserRole('admin', 'Admin User');
});
</script> 
<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đặt Tour & Thanh toán - BigKey Travel</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-key" style="color: #DC2626;"></i> 
                <span style="color: white; font-weight: bold;">BigKey Tour</span>
            </div>
            <nav class="nav-menu">
                <a href="01-search-integrated.html" style="background-color: rgba(255,255,255,0.2);">Trang chủ</a>
                <div class="nav-dropdown" style="position: relative; display: inline-block;">
                    <a href="#" onclick="toggleSystemMenu()" style="display: flex; align-items: center; gap: 5px;">
                        Hệ thống <i class="fas fa-chevron-down" style="font-size: 12px;"></i>
                    </a>
                    <div id="systemDropdown" class="system-dropdown" style="display: none; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 180px; z-index: 1000; margin-top: 5px;">
                        <a href="12-partner-analytics.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-handshake" style="color: #2563EB;"></i> Quản lý Đối tác
                        </a>
                        <a href="13-admin-dashboard.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none;">
                            <i class="fas fa-cog" style="color: #DC2626;"></i> Quản trị viên
                        </a>
                    </div>
                </div>
            </nav>
            <div class="auth-section">
                <select style="padding: 8px; border-radius: 5px; border: 1px solid #ddd; background: white;">
                    <option>🇻🇳 Tiếng Việt</option>
                    <option>🇺🇸 English</option>
                    <option>🇷🇺 Русский</option>
                    <option>🇰🇿 Қазақша</option>
                </select>
                <div class="user-menu" style="position: relative; display: inline-block;">
                    <button class="btn btn-primary" onclick="toggleUserMenu()" style="display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-user-circle"></i>
                        <span>Đăng nhập</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div id="userDropdown" class="user-dropdown" style="display: none; position: absolute; right: 0; top: 100%; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; z-index: 1000; margin-top: 5px;">
                        <a href="09-user-orders.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-shopping-bag"></i> Đơn hàng của tôi
                        </a>
                        <a href="16-user-profile.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-user"></i> Hồ sơ cá nhân
                        </a>
                        <a href="12-partner-analytics.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-cogs"></i> Quản lý hệ thống
                        </a>
                        <a href="13-admin-dashboard.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none;">
                            <i class="fas fa-cog"></i> Quản lý hệ thống
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <div style="margin: 20px 0;">
            <a href="01-search-integrated.html" style="color: #667eea; text-decoration: none;">
                <i class="fas fa-arrow-left"></i> Quay lại tìm kiếm hoặc thêm dịch vụ khác
            </a>
        </div>

        <h1 style="text-align: center; color: #333; margin-bottom: 30px;">
            <i class="fas fa-shopping-cart"></i> ĐẶT DỊCH VỤ TÍCH HỢP
        </h1>

        <!-- Shopping Cart -->
        <section class="booking-form fade-in">
            <div class="form-section">
                <h2><i class="fas fa-shopping-bag"></i> GIỎ HÀNG CỦA BẠN</h2>
                
                <!-- Combo Package -->
                <div style="border: 3px solid #f39c12; border-radius: 15px; padding: 20px; margin-bottom: 20px; background: linear-gradient(135deg, #fff5e6 0%, #fff 100%);">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <i class="fas fa-box" style="font-size: 24px; color: #f39c12; margin-right: 10px;"></i>
                        <h3 style="color: #f39c12; margin: 0;">COMBO: Hạ Long Premium Package</h3>
                    </div>
                    
                    <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 15px;">
                        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #3498db;">
                            <h4><i class="fas fa-plane"></i> Vé máy bay</h4>
                            <p>HAN↔SGN (20-22/08/2025) x2 người</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #e74c3c;">
                            <h4><i class="fas fa-hotel"></i> Khách sạn</h4>
                            <p>Mường Thanh 4⭐ Superior (2 đêm)</p>
                        </div>
                        <div style="background: white; padding: 15px; border-radius: 10px; border-left: 4px solid #27ae60;">
                            <h4><i class="fas fa-route"></i> Tour</h4>
                            <p>Hạ Long 3N2Đ có HDV</p>
                        </div>
                    </div>
                    
                    <div style="display: flex; justify-content: between; align-items: center; padding: 15px; background: white; border-radius: 10px;">
                        <div>
                            <span style="font-size: 18px; font-weight: bold;">Tổng: </span>
                            <span style="font-size: 20px; font-weight: bold; color: #e74c3c;">17.000.000 VNĐ</span>
                            <span style="margin-left: 15px; color: #27ae60; font-weight: bold;">| Tiết kiệm: 2.400.000 VNĐ</span>
                        </div>
                        <div style="margin-left: auto;">
                            <button class="btn btn-secondary" style="margin-right: 10px;">Sửa</button>
                            <button class="btn" style="background: #e74c3c; color: white;">Xóa</button>
                        </div>
                    </div>
                </div>

                <!-- Individual Item -->
                <div style="border: 2px solid #667eea; border-radius: 15px; padding: 20px; margin-bottom: 20px; background: #f8f9ff;">
                    <div style="display: flex; align-items: center; margin-bottom: 15px;">
                        <i class="fas fa-ticket-alt" style="font-size: 20px; color: #667eea; margin-right: 10px;"></i>
                        <h3 style="color: #667eea; margin: 0;">THÊM RIÊNG LẺ: Tour Sapa 2N1Đ</h3>
                    </div>
                    <div style="display: flex; justify-content: space-between; align-items: center;">
                        <div>
                            <p>Ngày: 25-27/08/2025 | 2 người lớn</p>
                            <span style="font-size: 18px; font-weight: bold; color: #667eea;">4.200.000 VNĐ</span>
                        </div>
                        <div>
                            <button class="btn btn-secondary" style="margin-right: 10px;">Sửa</button>
                            <button class="btn" style="background: #e74c3c; color: white;">Xóa</button>
                        </div>
                    </div>
                </div>

                <!-- Total -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 15px; text-align: center;">
                    <h2 style="margin: 0;">TỔNG ĐƠN HÀNG: 21.200.000 VNĐ</h2>
                </div>
            </div>
        </section>

        <!-- Passenger Information -->
        <section class="booking-form fade-in" style="animation-delay: 0.2s;">
            <div class="form-section">
                <h2><i class="fas fa-users"></i> THÔNG TIN HÀNH KHÁCH</h2>
                
                <!-- Passenger 1 -->
                <div class="passenger-form">
                    <h3><i class="fas fa-user"></i> HÀNH KHÁCH 1 (Người lớn)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Họ tên *</label>
                            <input type="text" placeholder="Nguyễn Văn A" value="Nguyễn Văn A">
                        </div>
                        <div class="form-group">
                            <label>CMND/CCCD *</label>
                            <input type="text" placeholder="001234567890" value="001234567890">
                        </div>
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" placeholder="nguyenvana@email.com" value="nguyenvana@email.com">
                        </div>
                        <div class="form-group">
                            <label>Số điện thoại *</label>
                            <input type="tel" placeholder="0987654321" value="0987654321">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Ngày sinh</label>
                            <input type="date" value="1990-01-01">
                        </div>
                        <div class="form-group">
                            <label>Giới tính</label>
                            <select>
                                <option selected>Nam</option>
                                <option>Nữ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quốc tịch</label>
                            <select>
                                <option selected>Việt Nam</option>
                                <option>Khác</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Passenger 2 -->
                <div class="passenger-form">
                    <h3><i class="fas fa-user"></i> HÀNH KHÁCH 2 (Người lớn)</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Họ tên *</label>
                            <input type="text" placeholder="Trần Thị B" value="Trần Thị B">
                        </div>
                        <div class="form-group">
                            <label>CMND/CCCD *</label>
                            <input type="text" placeholder="001234567891" value="001234567891">
                        </div>
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" placeholder="tranthib@email.com" value="tranthib@email.com">
                        </div>
                        <div class="form-group">
                            <label>Số điện thoại *</label>
                            <input type="tel" placeholder="0987654322" value="0987654322">
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Ngày sinh</label>
                            <input type="date" value="1992-05-15">
                        </div>
                        <div class="form-group">
                            <label>Giới tính</label>
                            <select>
                                <option>Nam</option>
                                <option selected>Nữ</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Quốc tịch</label>
                            <select>
                                <option selected>Việt Nam</option>
                                <option>Khác</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- Emergency Contact -->
                <div style="background: #fff5f5; padding: 20px; border-radius: 10px; border-left: 4px solid #e74c3c;">
                    <h3><i class="fas fa-phone-alt"></i> THÔNG TIN LIÊN LẠC KHẨN CẤP</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tên người liên hệ</label>
                            <input type="text" placeholder="Nguyễn Văn C" value="Nguyễn Văn C">
                        </div>
                        <div class="form-group">
                            <label>Quan hệ</label>
                            <select>
                                <option selected>Bố</option>
                                <option>Mẹ</option>
                                <option>Anh/Chị</option>
                                <option>Bạn</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Số điện thoại</label>
                            <input type="tel" placeholder="0123456789" value="0123456789">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Address & Delivery -->
        <section class="booking-form fade-in" style="animation-delay: 0.4s;">
            <div class="form-section">
                <h2><i class="fas fa-map-marker-alt"></i> ĐỊA CHỈ & GIAO NHẬN</h2>
                
                <div class="form-row">
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <label><i class="fas fa-home"></i> Địa chỉ nhận vé/voucher</label>
                        <input type="text" placeholder="123 Nguyễn Du, Hai Bà Trưng, Hà Nội" value="123 Nguyễn Du, Hai Bà Trưng, Hà Nội">
                    </div>
                    <div class="form-group" style="grid-column: 1 / -1;">
                        <label>Ghi chú đặc biệt</label>
                        <textarea rows="3" placeholder="Giao voucher trước 2 ngày">Giao voucher trước 2 ngày</textarea>
                    </div>
                </div>

                <!-- Pickup Services -->
                <div style="background: #f0f8ff; padding: 20px; border-radius: 10px; border-left: 4px solid #3498db;">
                    <h3><i class="fas fa-car"></i> DỊCH VỤ ĐƯA ĐÓN (Tùy chọn)</h3>
                    <div class="checkbox-group" style="margin-bottom: 15px;">
                        <div class="checkbox-item">
                            <input type="checkbox" id="airport-pickup">
                            <label for="airport-pickup">Đưa đón sân bay (+300.000 VNĐ)</label>
                        </div>
                        <div class="checkbox-item">
                            <input type="checkbox" id="hotel-pickup">
                            <label for="hotel-pickup">Đưa đón khách sạn (+200.000 VNĐ)</label>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Điểm đón</label>
                            <input type="text" placeholder="Sân bay Nội Bài" value="Sân bay Nội Bài">
                        </div>
                        <div class="form-group">
                            <label>Thời gian</label>
                            <input type="time" value="05:30">
                        </div>
                        <div class="form-group">
                            <label>Ghi chú</label>
                            <input type="text" placeholder="Ghi chú đặc biệt">
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Discount & Payment -->
        <section class="booking-form fade-in" style="animation-delay: 0.6s;">
            <div class="form-section">
                <h2><i class="fas fa-tags"></i> MÃ GIẢM GIÁ & KHUYẾN MÃI</h2>
                
                <!-- Discount Code -->
                <div style="background: #fff5f0; padding: 20px; border-radius: 10px; border-left: 4px solid #f39c12; margin-bottom: 20px;">
                    <h3><i class="fas fa-ticket-alt"></i> MÃ GIẢM GIÁ</h3>
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <input type="text" placeholder="SUMMER2025" value="SUMMER2025" style="flex: 1; padding: 12px; border: 2px solid #e1e5e9; border-radius: 8px;">
                        <button class="btn btn-primary">Áp dụng</button>
                    </div>
                    <div style="background: #d4edda; padding: 10px; border-radius: 8px; color: #155724;">
                        <i class="fas fa-check-circle"></i> Đã áp dụng: NEWUSER10 - Giảm 10% (tối đa 500k) | <strong>-500.000 VNĐ</strong>
                    </div>
                </div>

                <!-- Loyalty Points -->
                <div style="background: #f5f0ff; padding: 20px; border-radius: 10px; border-left: 4px solid #9b59b6;">
                    <h3><i class="fas fa-coins"></i> ĐIỂM TÍCH LŨY</h3>
                    <p>Bạn có: <strong style="color: #9b59b6;">2,450 điểm BigKey</strong> (= 245.000 VNĐ)</p>
                    <div style="margin-top: 10px;">
                        <input type="checkbox" id="use-points">
                        <label for="use-points">Sử dụng điểm để thanh toán (Quy đổi: 1 điểm = 100 VNĐ)</label>
                    </div>
                </div>
            </div>
        </section>

        <!-- Payment Method -->
        <section class="booking-form fade-in" style="animation-delay: 0.8s;">
            <div class="form-section">
                <h2><i class="fas fa-credit-card"></i> PHƯƠNG THỨC THANH TOÁN</h2>
                
                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; margin-bottom: 30px;">
                    <div class="payment-method active" data-method="vnpay">
                        <i class="fas fa-qrcode"></i>
                        <h4>VNPay</h4>
                        <p>QR/Internet Banking</p>
                    </div>
                    <div class="payment-method" data-method="momo">
                        <i class="fas fa-mobile-alt"></i>
                        <h4>MoMo</h4>
                        <p>E-Wallet</p>
                    </div>
                    <div class="payment-method" data-method="credit">
                        <i class="fas fa-credit-card"></i>
                        <h4>Thẻ tín dụng</h4>
                        <p>Visa/Mastercard</p>
                    </div>
                    <div class="payment-method" data-method="bank">
                        <i class="fas fa-university"></i>
                        <h4>Chuyển khoản</h4>
                        <p>Ngân hàng</p>
                    </div>
                    <div class="payment-method" data-method="installment">
                        <i class="fas fa-calendar-alt"></i>
                        <h4>Trả góp 0%</h4>
                        <p>6-12 tháng</p>
                    </div>
                    <div class="payment-method" data-method="store">
                        <i class="fas fa-store"></i>
                        <h4>Tại cửa hàng</h4>
                        <p>Thanh toán trực tiếp</p>
                    </div>
                </div>

                <!-- Payment Summary -->
                <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 30px; border-radius: 15px;">
                    <h2 style="margin-bottom: 20px; text-align: center;">
                        <i class="fas fa-receipt"></i> TỔNG KẾT THANH TOÁN
                    </h2>
                    <div style="display: grid; gap: 10px; font-size: 16px;">
                        <div style="display: flex; justify-content: space-between;">
                            <span>Tổng dịch vụ:</span>
                            <span>21.200.000 VNĐ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between; color: #27ae60;">
                            <span>Mã giảm giá:</span>
                            <span>-500.000 VNĐ</span>
                        </div>
                        <div style="display: flex; justify-content: space-between;">
                            <span>Phí dịch vụ:</span>
                            <span>+50.000 VNĐ</span>
                        </div>
                        <hr style="margin: 15px 0; opacity: 0.3;">
                        <div style="display: flex; justify-content: space-between; font-size: 24px; font-weight: bold;">
                            <span>TỔNG THANH TOÁN:</span>
                            <span>20.750.000 VNĐ</span>
                        </div>
                    </div>
                </div>

                <!-- Terms & Conditions -->
                <div style="margin: 20px 0;">
                    <div class="checkbox-item" style="margin-bottom: 10px;">
                        <input type="checkbox" id="terms" required>
                        <label for="terms">Tôi đồng ý với <a href="#" style="color: #667eea;">Điều khoản sử dụng</a> và <a href="#" style="color: #667eea;">Chính sách bảo mật</a></label>
                    </div>
                    <div class="checkbox-item">
                        <input type="checkbox" id="newsletter">
                        <label for="newsletter">Tôi muốn nhận thông tin khuyến mãi qua email/SMS</label>
                    </div>
                </div>

                <!-- Final Payment Button -->
                <button class="btn btn-primary" style="width: 100%; padding: 20px; font-size: 20px; font-weight: bold;" onclick="processPayment()">
                    <i class="fas fa-lock"></i> THANH TOÁN AN TOÀN NGAY
                </button>
            </div>
        </section>
    </div>

            <a href="14-notification-center.html" style="color: #9b59b6; text-decoration: none; padding: 5px 10px; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#faf5ff'" onmouseout="this.style.background=''">14. 🔔 Trung tâm Thông báo</a>
            <a href="15-help-support.html" style="color: #9b59b6; text-decoration: none; padding: 5px 10px; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#faf5ff'" onmouseout="this.style.background=''">15. 🆘 Hỗ trợ & Trợ giúp</a>
            <a href="16-user-profile.html" style="color: #9b59b6; text-decoration: none; padding: 5px 10px; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#faf5ff'" onmouseout="this.style.background=''">16. 👤 Hồ sơ Người dùng</a>
            <a href="17-reviews-ratings.html" style="color: #9b59b6; text-decoration: none; padding: 5px 10px; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#faf5ff'" onmouseout="this.style.background=''">17. ⭐ Đánh giá & Nhận xét</a>
            <a href="18-error-pages.html" style="color: #9b59b6; text-decoration: none; padding: 5px 10px; border-radius: 5px; transition: background 0.2s;" onmouseover="this.style.background='#faf5ff'" onmouseout="this.style.background=''">18. 🚨 Trang Lỗi</a>
        </div>
    </div>

    <style>
        .payment-method {
            background: white;
            border: 2px solid #e1e5e9;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }

        .payment-method:hover {
            border-color: #667eea;
            transform: translateY(-2px);
        }

        .payment-method.active {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .payment-method i {
            font-size: 24px;
            color: #667eea;
            margin-bottom: 10px;
        }

        .payment-method h4 {
            margin: 10px 0 5px 0;
            color: #333;
        }

        .payment-method p {
            color: #666;
            font-size: 14px;
            margin: 0;
        }
    </style>

    <script>
        // Payment method selection
        document.querySelectorAll('.payment-method').forEach(method => {
            method.addEventListener('click', function() {
                document.querySelectorAll('.payment-method').forEach(m => m.classList.remove('active'));
                this.classList.add('active');
            });
        });

        // Process payment
        function processPayment() {
            const termsAccepted = document.getElementById('terms').checked;
            
            if (!termsAccepted) {
                alert('❌ Vui lòng đồng ý với điều khoản sử dụng!');
                return;
            }

            const activePayment = document.querySelector('.payment-method.active');
            const paymentMethod = activePayment.querySelector('h4').textContent;

            alert(`💳 Đang xử lý thanh toán qua ${paymentMethod}...\nTổng tiền: 20.750.000 VNĐ\nChuyển đến cổng thanh toán...`);
            
            setTimeout(() => {
                window.location.href = '08-booking-success.html';
            }, 2000);
        }

        // Add pickup service cost calculation
        document.addEventListener('DOMContentLoaded', function() {
            const airportPickup = document.getElementById('airport-pickup');
            const hotelPickup = document.getElementById('hotel-pickup');

            function updateTotal() {
                // This would normally update the total cost
                console.log('Pickup services updated');
            }

            airportPickup.addEventListener('change', updateTotal);
            hotelPickup.addEventListener('change', updateTotal);
        });

        // Menu toggle functionality
        document.getElementById('menuToggle').addEventListener('click', function() {
            const content = document.getElementById('menuContent');
            const toggle = document.getElementById('menuToggle');
            
            if (content.style.display === 'none') {
                content.style.display = 'grid';
                toggle.textContent = '−';
            } else {
                content.style.display = 'none';
                toggle.textContent = '+';
            }
        });

        // User dropdown menu
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.querySelector('.user-menu');
            const dropdown = document.getElementById('userDropdown');
            
            if (!userMenu.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });
    </script>
</body>
</html>


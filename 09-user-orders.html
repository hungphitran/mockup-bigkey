<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Đơn hàng của tôi - BigKey Travel</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-content">
            <div class="logo">
                <i class="fas fa-key" style="color: #DC2626;"></i> 
                <span style="color: white; font-weight: bold;">BigKey Tour</span>
            </div>
            <nav class="nav-menu">
                <a href="01-search-integrated.html" style="background-color: rgba(255,255,255,0.2);">Trang chủ</a>
                <div class="nav-dropdown" style="position: relative; display: inline-block;">
                    <a href="#" onclick="toggleSystemMenu()" style="display: flex; align-items: center; gap: 5px;">
                        Hệ thống <i class="fas fa-chevron-down" style="font-size: 12px;"></i>
                    </a>
                    <div id="systemDropdown" class="system-dropdown" style="display: none; position: absolute; top: 100%; left: 0; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 180px; z-index: 1000; margin-top: 5px;">
                        <a href="12-partner-analytics.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-handshake" style="color: #2563EB;"></i> Quản lý Đối tác
                        </a>
                        <a href="13-admin-dashboard.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none;">
                            <i class="fas fa-cog" style="color: #DC2626;"></i> Quản trị viên
                        </a>
                    </div>
                </div>
            </nav>
            <div class="auth-section">
                <select style="padding: 8px; border-radius: 5px; border: 1px solid #ddd; background: white;">
                    <option>🇻🇳 Tiếng Việt</option>
                    <option>🇺🇸 English</option>
                    <option>🇷🇺 Русский</option>
                    <option>🇰🇿 Қазақша</option>
                </select>
                <div class="user-menu" style="position: relative; display: inline-block;">
                    <button class="btn btn-primary" onclick="toggleUserMenu()" style="display: flex; align-items: center; gap: 8px;">
                        <i class="fas fa-user-circle"></i>
                        <span>Đăng nhập</span>
                        <i class="fas fa-chevron-down"></i>
                    </button>
                    <div id="userDropdown" class="user-dropdown" style="display: none; position: absolute; right: 0; top: 100%; background: white; border: 1px solid #ddd; border-radius: 8px; box-shadow: 0 4px 12px rgba(0,0,0,0.15); min-width: 200px; z-index: 1000; margin-top: 5px;">
                        <a href="09-user-orders.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-shopping-bag"></i> Đơn hàng của tôi
                        </a>
                        <a href="16-user-profile.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-user"></i> Hồ sơ cá nhân
                        </a>
                        <a href="12-partner-analytics.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none; border-bottom: 1px solid #eee;">
                            <i class="fas fa-cogs"></i> Quản lý hệ thống
                        </a>
                        <a href="13-admin-dashboard.html" style="display: block; padding: 12px 16px; color: #333; text-decoration: none;">
                            <i class="fas fa-cog"></i> Quản lý hệ thống
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <div class="container">
        <!-- Breadcrumb Navigation -->
        <div style="margin: 20px 0; padding: 15px; background: #f8fafc; border-radius: 8px; border-left: 4px solid #1A365D;">
            <nav style="display: flex; align-items: center; gap: 8px; font-size: 14px;">
                <a href="01-search-integrated.html" style="color: #1A365D; text-decoration: none;">
                    <i class="fas fa-home"></i> Trang chủ
                </a>
                <i class="fas fa-chevron-right" style="color: #666; font-size: 12px;"></i>
                <span style="color: #666;">Đơn hàng của tôi</span>
            </nav>
        </div>

        <!-- Quick Actions Bar -->
        <div style="margin: 20px 0; display: flex; gap: 15px; flex-wrap: wrap;">
            <a href="16-user-profile.html" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; background: #2563EB; color: white; text-decoration: none; border-radius: 8px; font-size: 14px; transition: all 0.3s;">
                <i class="fas fa-user"></i> Hồ sơ cá nhân
            </a>
            <a href="17-reviews-ratings.html" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; background: #059669; color: white; text-decoration: none; border-radius: 8px; font-size: 14px; transition: all 0.3s;">
                <i class="fas fa-star"></i> Đánh giá
            </a>
            <a href="15-help-support.html" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; background: #f39c12; color: white; text-decoration: none; border-radius: 8px; font-size: 14px; transition: all 0.3s;">
                <i class="fas fa-headset"></i> Hỗ trợ
            </a>
            <div style="margin-left: auto; display: flex; gap: 10px;">
                <a href="12-partner-analytics.html" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; background: linear-gradient(135deg, #667eea, #764ba2); color: white; text-decoration: none; border-radius: 8px; font-size: 14px; transition: all 0.3s;">
                    <i class="fas fa-cogs"></i> Đối tác
                </a>
                <a href="13-admin-dashboard.html" style="display: flex; align-items: center; gap: 8px; padding: 10px 15px; background: linear-gradient(135deg, #DC2626, #991b1b); color: white; text-decoration: none; border-radius: 8px; font-size: 14px; transition: all 0.3s;">
                    <i class="fas fa-shield-alt"></i> Quản trị
                </a>
            </div>
        </div>

        <!-- Dashboard -->
        <div class="dashboard">
            <!-- Main Content -->
            <div class="main-content fade-in">
                <!-- User Header -->
                <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
                    <div>
                        <h1 style="color: #333; margin: 0;">
                            <i class="fas fa-user-circle"></i> Xin chào, Nguyễn Văn A
                        </h1>
                        <p style="color: #666; margin: 5px 0 0 0;">Quản lý đơn hàng và tài khoản của bạn</p>
                    </div>
                    <div style="text-align: right;">
                        <div style="font-size: 18px; font-weight: bold; color: #667eea;">📊 Tổng quan</div>
                        <div style="font-size: 14px; color: #666;">Cập nhật: 17/07/2025</div>
                    </div>
                </div>

                <!-- Overview Stats -->
                <div class="stats-grid" style="margin-bottom: 30px;">
                    <div class="stat-card" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);">
                        <div class="stat-value">12</div>
                        <div class="stat-label">Tổng đơn</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #27ae60 0%, #2ecc71 100%);">
                        <div class="stat-value">8</div>
                        <div class="stat-label">Hoàn thành</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%);">
                        <div class="stat-value">2</div>
                        <div class="stat-label">Đang xử lý</div>
                    </div>
                    <div class="stat-card" style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);">
                        <div class="stat-value">2</div>
                        <div class="stat-label">Đã hủy</div>
                    </div>
                </div>

                <!-- Financial Overview -->
                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin-bottom: 30px;">
                    <div style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; padding: 20px; border-radius: 10px;">
                        <h3 style="margin: 0 0 10px 0;"><i class="fas fa-money-bill-wave"></i> Tổng chi tiêu</h3>
                        <div style="font-size: 24px; font-weight: bold;">45.600.000 VNĐ</div>
                    </div>
                    <div style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); color: white; padding: 20px; border-radius: 10px;">
                        <h3 style="margin: 0 0 10px 0;"><i class="fas fa-coins"></i> Điểm tích lũy</h3>
                        <div style="font-size: 24px; font-weight: bold;">4,560 pts</div>
                        <div style="font-size: 14px; opacity: 0.9;">= 456.000 VNĐ</div>
                    </div>
                </div>

                <!-- Filter Orders -->
                <div style="background: #f8f9fa; padding: 20px; border-radius: 10px; margin-bottom: 30px;">
                    <h3 style="margin: 0 0 15px 0;"><i class="fas fa-filter"></i> BỘ LỌC ĐƠN HÀNG</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Trạng thái:</label>
                            <select id="statusFilter" onchange="filterOrders()">
                                <option value="all">Tất cả</option>
                                <option value="confirmed">Đã xác nhận</option>
                                <option value="pending">Chờ xác nhận</option>
                                <option value="completed">Đã hoàn thành</option>
                                <option value="cancelled">Đã hủy</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Thời gian:</label>
                            <select>
                                <option selected>6 tháng gần đây</option>
                                <option>3 tháng gần đây</option>
                                <option>1 tháng gần đây</option>
                                <option>Tất cả</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Tìm kiếm:</label>
                            <input type="text" placeholder="Mã đơn hàng hoặc tên tour..." id="searchInput" onkeyup="filterOrders()">
                        </div>
                    </div>
                </div>

                <!-- Orders List -->
                <div>
                    <h2 style="margin-bottom: 20px; color: #333;">
                        <i class="fas fa-list"></i> DANH SÁCH ĐƠN HÀNG
                    </h2>
                    
                    <div id="ordersList">
                        <!-- Order 1 - Confirmed -->
                        <div class="result-card order-item" data-status="confirmed" data-search="BK2025080001 combo hạ long premium">
                            <div class="card-content">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <h3 style="margin: 0 0 5px 0;">
                                            <i class="fas fa-box"></i> #BK2025080001 - Combo Hạ Long Premium
                                        </h3>
                                        <div style="color: #666;">
                                            📅 Ngày đặt: 15/07/2025 | Khởi hành: 20/08/2025
                                        </div>
                                    </div>
                                    <span class="status-badge status-success">🟢 Đã xác nhận</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: bold; color: #e74c3c; margin-bottom: 5px;">
                                            💰 8.500.000 VNĐ | 2 người
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 10px;">
                                        <button class="btn btn-primary" onclick="viewOrderDetails('BK2025080001')">Chi tiết</button>
                                        <button class="btn btn-secondary">Hỗ trợ</button>
                                        <button class="btn" style="background: #27ae60; color: white;">Tải voucher</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Order 2 - Pending -->
                        <div class="result-card order-item" data-status="pending" data-search="BK2025070025 tour đà nẵng">
                            <div class="card-content">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <h3 style="margin: 0 0 5px 0;">
                                            <i class="fas fa-route"></i> #BK2025070025 - Tour Đà Nẵng 4N3Đ
                                        </h3>
                                        <div style="color: #666;">
                                            📅 Ngày đặt: 10/07/2025 | Khởi hành: 15/08/2025
                                        </div>
                                    </div>
                                    <span class="status-badge status-warning">🟡 Chờ xác nhận</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: bold; color: #e74c3c; margin-bottom: 5px;">
                                            💰 6.200.000 VNĐ | 2 người
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 10px;">
                                        <button class="btn btn-primary">Chi tiết</button>
                                        <button class="btn" style="background: #e74c3c; color: white;">Hủy đơn</button>
                                        <button class="btn btn-secondary">Liên hệ</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Order 3 - Completed -->
                        <div class="result-card order-item" data-status="completed" data-search="BK2025060012 tour sapa">
                            <div class="card-content">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <h3 style="margin: 0 0 5px 0;">
                                            <i class="fas fa-route"></i> #BK2025060012 - Tour Sapa 3N2Đ
                                        </h3>
                                        <div style="color: #666;">
                                            📅 Ngày đặt: 01/06/2025 | Đã thực hiện: 05-07/06/2025
                                        </div>
                                    </div>
                                    <span class="status-badge status-info">🔵 Đã hoàn thành</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: bold; color: #e74c3c; margin-bottom: 5px;">
                                            💰 4.800.000 VNĐ | 2 người
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 10px;">
                                        <a href="10-order-details.html" class="btn btn-primary" style="text-decoration: none;">Chi tiết</a>
                                        <button class="btn" style="background: #f39c12; color: white;">Đánh giá</button>
                                        <button class="btn btn-secondary">Đặt lại</button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Order 4 - Cancelled -->
                        <div class="result-card order-item" data-status="cancelled" data-search="BK2025050008 tour phú quốc">
                            <div class="card-content">
                                <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 15px;">
                                    <div>
                                        <h3 style="margin: 0 0 5px 0;">
                                            <i class="fas fa-route"></i> #BK2025050008 - Tour Phú Quốc 4N3Đ
                                        </h3>
                                        <div style="color: #666;">
                                            📅 Ngày đặt: 15/05/2025 | Đã hủy: 18/05/2025
                                        </div>
                                    </div>
                                    <span class="status-badge status-danger">🔴 Đã hủy</span>
                                </div>
                                <div style="display: flex; justify-content: space-between; align-items: center;">
                                    <div>
                                        <div style="font-size: 18px; font-weight: bold; color: #666; margin-bottom: 5px;">
                                            💰 7.200.000 VNĐ | 2 người
                                        </div>
                                    </div>
                                    <div style="display: flex; gap: 10px;">
                                        <a href="10-order-details.html" class="btn btn-primary" style="text-decoration: none;">Chi tiết</a>
                                        <button class="btn btn-secondary">Xem lý do hủy</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- No Results -->
                    <div id="noResults" style="display: none; text-align: center; padding: 50px; color: #666;">
                        <i class="fas fa-search" style="font-size: 48px; margin-bottom: 20px; opacity: 0.3;"></i>
                        <h3>Không tìm thấy đơn hàng nào</h3>
                        <p>Thử thay đổi bộ lọc hoặc từ khóa tìm kiếm</p>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar fade-in" style="animation-delay: 0.2s;">
                <!-- User Profile -->
                <div style="text-align: center; margin-bottom: 30px;">
                    <div style="width: 80px; height: 80px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 15px auto; color: white; font-size: 32px;">
                        <i class="fas fa-user"></i>
                    </div>
                    <h3 style="margin: 0 0 5px 0; color: #333;">Nguyễn Văn A</h3>
                    <p style="color: #666; font-size: 14px; margin: 0;">Thành viên từ 2024</p>
                    <div style="margin-top: 10px;">
                        <span style="background: #f39c12; color: white; padding: 4px 12px; border-radius: 15px; font-size: 12px;">
                            🏆 VIP Gold
                        </span>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div style="margin-bottom: 30px;">
                    <h4 style="margin-bottom: 15px; color: #333;">
                        <i class="fas fa-bolt"></i> Thao tác nhanh
                    </h4>
                    <div style="display: grid; gap: 10px;">
                        <button class="btn btn-primary" style="width: 100%; justify-content: flex-start;" onclick="window.location.href='01-search-integrated.html'">
                            <i class="fas fa-search"></i> Tìm tour mới
                        </button>
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;">
                            <i class="fas fa-heart"></i> Tour yêu thích
                        </button>
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;">
                            <i class="fas fa-user-edit"></i> Cập nhật thông tin
                        </button>
                        <button class="btn btn-secondary" style="width: 100%; justify-content: flex-start;">
                            <i class="fas fa-headset"></i> Hỗ trợ 24/7
                        </button>
                    </div>
                </div>

                <!-- Loyalty Program -->
                <div style="background: linear-gradient(135deg, #f39c12 0%, #e67e22 100%); color: white; padding: 20px; border-radius: 10px; margin-bottom: 20px;">
                    <h4 style="margin: 0 0 15px 0;">
                        <i class="fas fa-gift"></i> Chương trình thành viên
                    </h4>
                    <div style="margin-bottom: 10px;">
                        <div style="font-size: 14px; opacity: 0.9;">Điểm hiện tại:</div>
                        <div style="font-size: 20px; font-weight: bold;">4,560 điểm</div>
                    </div>
                    <div style="margin-bottom: 15px;">
                        <div style="font-size: 14px; opacity: 0.9;">Còn lại để lên Platinum:</div>
                        <div style="background: rgba(255,255,255,0.2); height: 8px; border-radius: 4px; margin-top: 5px;">
                            <div style="background: white; height: 100%; width: 76%; border-radius: 4px;"></div>
                        </div>
                        <div style="font-size: 12px; opacity: 0.8; margin-top: 5px;">1,440 điểm nữa</div>
                    </div>
                    <button class="btn" style="background: white; color: #f39c12; width: 100%;">
                        <i class="fas fa-coins"></i> Đổi quà
                    </button>
                </div>

                <!-- Recent Activity -->
                <div>
                    <h4 style="margin-bottom: 15px; color: #333;">
                        <i class="fas fa-clock"></i> Hoạt động gần đây
                    </h4>
                    <div style="display: grid; gap: 10px;">
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px; font-size: 14px;">
                            <div style="font-weight: bold; color: #333;">Đặt tour thành công</div>
                            <div style="color: #666;">Combo Hạ Long Premium</div>
                            <div style="color: #999; font-size: 12px;">2 giờ trước</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px; font-size: 14px;">
                            <div style="font-weight: bold; color: #333;">Nhận 450 điểm thưởng</div>
                            <div style="color: #666;">Tour Sapa hoàn thành</div>
                            <div style="color: #999; font-size: 12px;">1 ngày trước</div>
                        </div>
                        <div style="padding: 10px; background: #f8f9fa; border-radius: 8px; font-size: 14px;">
                            <div style="font-weight: bold; color: #333;">Nâng cấp VIP Gold</div>
                            <div style="color: #666;">Chúc mừng bạn!</div>
                            <div style="color: #999; font-size: 12px;">3 ngày trước</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        function filterOrders() {
            const statusFilter = document.getElementById('statusFilter').value;
            const searchInput = document.getElementById('searchInput').value.toLowerCase();
            const orders = document.querySelectorAll('.order-item');
            const ordersList = document.getElementById('ordersList');
            const noResults = document.getElementById('noResults');
            
            let visibleCount = 0;

            orders.forEach(order => {
                const status = order.getAttribute('data-status');
                const searchText = order.getAttribute('data-search');
                
                const statusMatch = statusFilter === 'all' || status === statusFilter;
                const searchMatch = searchInput === '' || searchText.includes(searchInput);
                
                if (statusMatch && searchMatch) {
                    order.style.display = 'block';
                    visibleCount++;
                } else {
                    order.style.display = 'none';
                }
            });

            // Show/hide no results message
            if (visibleCount === 0) {
                ordersList.style.display = 'none';
                noResults.style.display = 'block';
            } else {
                ordersList.style.display = 'block';
                noResults.style.display = 'none';
            }
        }

        function viewOrderDetails(orderId) {
            alert(`📋 Xem chi tiết đơn hàng ${orderId}\nChuyển đến trang chi tiết...`);
            // In real app, would navigate to order details page
            window.location.href = '10-order-details.html';
        }

        // Initialize filter
        document.addEventListener('DOMContentLoaded', function() {
            filterOrders();
        });

        // User dropdown menu
        function toggleUserMenu() {
            const dropdown = document.getElementById('userDropdown');
            dropdown.style.display = dropdown.style.display === 'none' ? 'block' : 'none';
        }

        // Close dropdown when clicking outside
        document.addEventListener('click', function(event) {
            const userMenu = document.querySelector('.user-menu');
            const dropdown = document.getElementById('userDropdown');
            
            if (!userMenu.contains(event.target)) {
                dropdown.style.display = 'none';
            }
        });
    </script>
</body>
</html>

